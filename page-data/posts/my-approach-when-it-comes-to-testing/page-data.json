{"componentChunkName":"component---src-templates-blog-post-js","path":"/posts/my-approach-when-it-comes-to-testing/","result":{"data":{"site":{"siteMetadata":{"siteUrl":"https://www.polvara.me"}},"markdownRemark":{"html":"<p>One thing I've seen people struggling with when it comes to testing a web\napplication is what to test and how. This post explains the approach I follow at\nwork and for my projects.</p>\n<p>The examples will be based on React Testing Library, but the same concepts apply\njust as well to any other frontend technology.</p>\n<h2>You already know how to test</h2>\n<p>The first thing to understand is that you already know how to test. In fact, if\nyou have developed any application, you have tested it.</p>\n<p>Do you remember when you were learning how to code, and you wrote your first\nprogram? Chances are it looked something like this:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Hello, world!\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>You then executed your script, and sure enough, you read \"Hello, world!\" in the\nconsole. That was a test. You were testing that your program was working as\nexpected.</p>\n<p>If you think about it, that's what you still do for every program you create.\nYou write some code and then execute it to make sure it works.</p>\n<p>Now imagine you get a bug report. Apparently, some feature stopped working. What\ndo you do first? You try to reproduce the bug by using your application. Again,\nyou are manually testing.</p>\n<p>Manually testing is a very effective way to ensure your software is working.\nInteracting with a portion of your application gives you confidence that it\nworks.</p>\n<p>Of course, manual tests have a big problem: you need a person to run them. Even\na small application can quickly become hard to test manually. On top of that,\nconsider that you must \"run\" all your tests every time you introduce a small\nchange.</p>\n<p>This is where testing libraries come into play. For me, these tools are a way to\nautomate the way I would manually test my application.</p>\n<h2>An example</h2>\n<p>Let's go through a more concrete example to understand what I mean by\n\"automating the way I would manually test.\"</p>\n<p>Suppose we are working on a simple currency converter application like this one:</p>\n<iframe style=\"width: 100%;\" src=\"https://www.polvara.me/currency-converter/\"></iframe>\n<p>You can find the complete code\n<a href=\"https://github.com/Gpx/currency-converter\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">here</a>.</p>\n<p>Let's not get into the code just yet. What we should ask ourselves now is \"How\nwould I manually test this app?\" I would do something like this:</p>\n<ol>\n<li>Check that we see a loading message until the app is ready</li>\n<li>Check that we see the initial conversion for 1 Euro to Dollars</li>\n<li>Change the amount and see that the conversion is updated</li>\n<li>Change the currency and see that the conversion is updated</li>\n</ol>\n<p>I think this makes for a reasonable test case. What we need to do now is trying\nto automate it. I'm going to do that using React Testing Library, but the same\nprinciples apply to most testing tools.</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"renders learn react link\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">App</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token comment\">// 1. Check that we see a loading message until the app is ready</span>\n  <span class=\"token comment\">// 2. Check that we see the initial conversion for 1 Euro to Dollars</span>\n  <span class=\"token comment\">// 3. Change the amount and see that the conversion is updated</span>\n  <span class=\"token comment\">// 4. Change the currency and see that the conversion is updated</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>This is our basic setup that doesn't do much at the moment. Let's implement the\nfirst step.</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"renders learn react link\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">App</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token punctuation\">)</span>\n  <span class=\"token comment\">// 1. Check that we see a loading message until the app is ready</span>\n  <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>screen<span class=\"token punctuation\">.</span><span class=\"token function\">getByText</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Loading...\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toBeInTheDocument</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">await</span> <span class=\"token function\">waitForElementToBeRemoved</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> screen<span class=\"token punctuation\">.</span><span class=\"token function\">getByText</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Loading...\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// 2. Check that we see the initial conversion for 1 Euro to Dollars</span>\n  <span class=\"token comment\">// 3. Change the amount and see that the conversion is updated</span>\n  <span class=\"token comment\">// 4. Change the currency and see that the conversion is updated</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Don't worry if you are not familiar with the particular API I'm using. The\nimportant concept to get is that we're simulating what a user would do. First,\nchecking that the loading message is on the page and then waiting for it do\ndisappear.</p>\n<p>Let's move on to step two:</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"renders learn react link\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">App</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token punctuation\">)</span>\n  <span class=\"token comment\">// 1. Check that we see a loading message until the app is ready</span>\n  <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>screen<span class=\"token punctuation\">.</span><span class=\"token function\">getByText</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Loading...\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toBeInTheDocument</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">await</span> <span class=\"token function\">waitForElementToBeRemoved</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> screen<span class=\"token punctuation\">.</span><span class=\"token function\">getByText</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Loading...\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// 2. Check that we see the initial conversion for 1 Euro to Dollars</span>\n  <span class=\"token keyword\">const</span> input <span class=\"token operator\">=</span> screen<span class=\"token punctuation\">.</span><span class=\"token function\">getByDisplayValue</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"1\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>screen<span class=\"token punctuation\">.</span><span class=\"token function\">getByText</span><span class=\"token punctuation\">(</span><span class=\"token regex\">/1.08/</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toBeInTheDocument</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// 3. Change the amount and see that the conversion is updated</span>\n  <span class=\"token comment\">// 4. Change the currency and see that the conversion is updated</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Here we are getting the input and checking that the converted value is on the\npage.</p>\n<p>Step three and four are quite similar so we can group them:</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"renders learn react link\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">App</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token punctuation\">)</span>\n  <span class=\"token comment\">// 1. Check that we see a loading message until the app is ready</span>\n  <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>screen<span class=\"token punctuation\">.</span><span class=\"token function\">getByText</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Loading...\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toBeInTheDocument</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">await</span> <span class=\"token function\">waitForElementToBeRemoved</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> screen<span class=\"token punctuation\">.</span><span class=\"token function\">getByText</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Loading...\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// 2. Check that we see the initial conversion for 1 Euro to Dollars</span>\n  <span class=\"token keyword\">const</span> input <span class=\"token operator\">=</span> screen<span class=\"token punctuation\">.</span><span class=\"token function\">getByDisplayValue</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"1\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>screen<span class=\"token punctuation\">.</span><span class=\"token function\">getByText</span><span class=\"token punctuation\">(</span><span class=\"token regex\">/1.08/</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toBeInTheDocument</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// 3. Change the amount and see that the conversion is updated</span>\n  fireEvent<span class=\"token punctuation\">.</span><span class=\"token function\">change</span><span class=\"token punctuation\">(</span>input<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> target<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> value<span class=\"token operator\">:</span> <span class=\"token string\">\"2\"</span> <span class=\"token punctuation\">}</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>screen<span class=\"token punctuation\">.</span><span class=\"token function\">getByText</span><span class=\"token punctuation\">(</span><span class=\"token regex\">/2.16/</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toBeInTheDocument</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// 4. Change the currency and see that the conversion is updated</span>\n  <span class=\"token keyword\">const</span> select <span class=\"token operator\">=</span> screen<span class=\"token punctuation\">.</span><span class=\"token function\">getByDisplayValue</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"USD\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  fireEvent<span class=\"token punctuation\">.</span><span class=\"token function\">change</span><span class=\"token punctuation\">(</span>select<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> target<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> value<span class=\"token operator\">:</span> <span class=\"token string\">\"RUB\"</span> <span class=\"token punctuation\">}</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>screen<span class=\"token punctuation\">.</span><span class=\"token function\">getByText</span><span class=\"token punctuation\">(</span><span class=\"token regex\">/137.94/</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toBeInTheDocument</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>And that's about it. We automated what a user would do to test this app. Notice\nthat the test knows nothing about the implementation details. We didn't have to\nread the source code. This app could have been written in any frontend\nframework, and the test would be the same.</p>\n<p>There's only one last step missing. Our code is fetching the conversion rates.\nIt's always better not to make any real network calls in the tests, so we're\ngoing to mock it. You can find a longer explanation on how to do that\n<a href=\"https://www.polvara.me/posts/how-to-test-asynchronous-methods/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">here</a>.</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">import</span> fetchRates <span class=\"token keyword\">from</span> <span class=\"token string\">\"./fetchRates\"</span><span class=\"token punctuation\">;</span>\njest<span class=\"token punctuation\">.</span><span class=\"token function\">mock</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"./fetchRates\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"renders learn react link\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  fetchRates<span class=\"token punctuation\">.</span><span class=\"token function\">mockResolvedValueOnce</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> <span class=\"token constant\">RUB</span><span class=\"token operator\">:</span> <span class=\"token number\">68.9685</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">USD</span><span class=\"token operator\">:</span> <span class=\"token number\">1.0816</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">App</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token punctuation\">)</span>\n\n  <span class=\"token comment\">// 1. Check that we see a loading message until the app is ready</span>\n  <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>screen<span class=\"token punctuation\">.</span><span class=\"token function\">getByText</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Loading...\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toBeInTheDocument</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">await</span> <span class=\"token function\">waitForElementToBeRemoved</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> screen<span class=\"token punctuation\">.</span><span class=\"token function\">getByText</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Loading...\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// 2. Check that we see the initial conversion for 1 Euro to Dollars</span>\n  <span class=\"token keyword\">const</span> input <span class=\"token operator\">=</span> screen<span class=\"token punctuation\">.</span><span class=\"token function\">getByDisplayValue</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"1\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>screen<span class=\"token punctuation\">.</span><span class=\"token function\">getByText</span><span class=\"token punctuation\">(</span><span class=\"token regex\">/1.08/</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toBeInTheDocument</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// 3. Change the amount and see that the conversion is updated</span>\n  fireEvent<span class=\"token punctuation\">.</span><span class=\"token function\">change</span><span class=\"token punctuation\">(</span>input<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> target<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> value<span class=\"token operator\">:</span> <span class=\"token string\">\"2\"</span> <span class=\"token punctuation\">}</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>screen<span class=\"token punctuation\">.</span><span class=\"token function\">getByText</span><span class=\"token punctuation\">(</span><span class=\"token regex\">/2.16/</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toBeInTheDocument</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// 4. Change the currency and see that the conversion is updated</span>\n  <span class=\"token keyword\">const</span> select <span class=\"token operator\">=</span> screen<span class=\"token punctuation\">.</span><span class=\"token function\">getByDisplayValue</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"USD\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  fireEvent<span class=\"token punctuation\">.</span><span class=\"token function\">change</span><span class=\"token punctuation\">(</span>select<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> target<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> value<span class=\"token operator\">:</span> <span class=\"token string\">\"RUB\"</span> <span class=\"token punctuation\">}</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>screen<span class=\"token punctuation\">.</span><span class=\"token function\">getByText</span><span class=\"token punctuation\">(</span><span class=\"token regex\">/137.94/</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toBeInTheDocument</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>fetchRates<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toHaveBeenCalledWith</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>fetchRates<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toHaveBeenCalledTimes</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h2>Units and integrations don't matter that much</h2>\n<p>At this point, people usually have two kinds of reactions. Some are hooked and\nstart writing tests this way—if you are, welcome to the club.</p>\n<p>The second kind of reaction is usually a generic fear about the lack of unit\ntests, namely the fact that these kinds of tests look more like integration,\nend-to-end, or feature tests. For some people, you need to have 100% test\ncoverage with unit tests before you can do anything else.</p>\n<p>If you are in this second category, allow me to tell you that in most\napplications, 100% unit test coverage is not needed. It is usually a bad\npractice.</p>\n<p>Please don't take me wrong, unit tests can be useful for some occasions, but\nwriting higher-level tests is almost always better. The reason we write tests is\nto make sure our app works. Writing a test that simulates a user interacting\nwith your app is what will give you the most confidence.</p>\n<p>Unit tests are just checking that a small portion of your software is doing what\nit's supposed to do. You can have 100% coverage with unit tests, but that gives\nyou no guarantee that the single parts are working well together.</p>\n<h2>Why not E2E tests then?</h2>\n<p>If tests that simulate the user are so great, why not only writing end-to-end\ntests (also known as browser tests or Selenium tests)? These are tests that run\ninside a browser and connect to a real API.</p>\n<p>E2E tests are great because they test your application in a real browser\nenvironment. They have two drawbacks, though. They are slow to run, and they are\nusually unstable.</p>\n<p>To run them, you have to start a browser, run your application, and potentially\nstart your backend too. There are many more parts involved, and This leads to a\nhigher risk of something going wrong.</p>\n<p>In general, I write E2E tests only to cover critical features and only the happy\npaths (no errors, no edge cases).</p>\n<h2>Conclusions</h2>\n<p>To sum it up, here's my strategy when it comes to testing:</p>\n<ol>\n<li>Manually test my code</li>\n<li>Write a test to simulate the way I manually test</li>\n<li>Add an E2E test if the feature is critical</li>\n</ol>","timeToRead":7,"frontmatter":{"title":"My Approach When It Comes to Testing","cover":{"file":{"publicURL":"/static/098caee768906eaa77d5b61d8758a6ae/cover.jpg","childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAIDAf/EABUBAQEAAAAAAAAAAAAAAAAAAAAE/9oADAMBAAIQAxAAAAFCeR21ED//xAAaEAEAAgMBAAAAAAAAAAAAAAAAARECEiEx/9oACAEBAAEFAt1rl14jOH//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAVEQEBAAAAAAAAAAAAAAAAAAAAEf/aAAgBAgEBPwGI/8QAGBAAAgMAAAAAAAAAAAAAAAAAACAhQYH/2gAIAQEABj8Clbw//8QAHBABAAIBBQAAAAAAAAAAAAAAAQARMSFBUaHw/9oACAEBAAE/IcqWOZ5ZHYlKK2WtSEKeqf/aAAwDAQACAAMAAAAQhy//xAAWEQEBAQAAAAAAAAAAAAAAAAABADH/2gAIAQMBAT8QyVL/xAAWEQEBAQAAAAAAAAAAAAAAAAAAEUH/2gAIAQIBAT8QjFv/xAAbEAEBAQEBAAMAAAAAAAAAAAABESEAMUGBkf/aAAgBAQABPxAvKj9fBnSOKvpQnWDDSt9HoJdG645vFi8j6y83UI54T77/2Q==","aspectRatio":1.3333333333333333,"src":"/static/098caee768906eaa77d5b61d8758a6ae/5f7bf/cover.jpg","srcSet":"/static/098caee768906eaa77d5b61d8758a6ae/8d4f6/cover.jpg 1040w,\n/static/098caee768906eaa77d5b61d8758a6ae/ae915/cover.jpg 2080w,\n/static/098caee768906eaa77d5b61d8758a6ae/5f7bf/cover.jpg 4032w","srcWebp":"/static/098caee768906eaa77d5b61d8758a6ae/87bb4/cover.webp","srcSetWebp":"/static/098caee768906eaa77d5b61d8758a6ae/026d6/cover.webp 1040w,\n/static/098caee768906eaa77d5b61d8758a6ae/ff470/cover.webp 2080w,\n/static/098caee768906eaa77d5b61d8758a6ae/87bb4/cover.webp 4032w","sizes":"(max-width: 4032px) 100vw, 4032px"}}},"author":"Ryan Quintal","link":"https://unsplash.com/photos/97odosRYZ7w","alt":null,"hide":null}},"fields":{"slug":"/posts/my-approach-when-it-comes-to-testing/"}}},"pageContext":{"slug":"/posts/my-approach-when-it-comes-to-testing/"}},"staticQueryHashes":["3159585216"]}